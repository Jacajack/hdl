% Polish language
\usepackage[utf8]{inputenc}
%\usepackage[T1]{fontenc}
\usepackage{polski}
\usepackage[polish]{babel}
%\usepackage[nosingleletter]{impnattypo}
%\usepackage{indentfirst}

% More fonts, extra itemize commands
\usepackage{bold-extra}
\usepackage{enumitem}

\usepackage{multicol}
\usepackage{indentfirst}
\usepackage{fvextra}
\usepackage{siunitx}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
\usepackage{xcolor}
\usepackage{float}
\usepackage{subcaption}
\usepackage{titlesec}

\usepackage{titling}

\usepackage{linguex}
% Counter format 
\renewcommand{\ExLBr}{\small\scshape}
\renewcommand{\ExRBr}{}
% http://tex.stackexchange.com/a/57279/11604
% Reset \ex. at each section 
\usepackage{chngcntr}
\counterwithin{ExNo}{subsubsection}
% add section counter
\renewcommand{\Exarabic}{\arabic} 
%\setlength{\Exlabelsep}{5em}

\newcommand{\np}{\ex.}

% \usepackage{parano}
\usepackage{listings}
\lstset{
  xleftmargin=\Exlabelwidth,
  basicstyle=\small\ttfamily,
  %frame=L,
  breaklines=true,
  inputencoding=utf8,
  extendedchars=true,
  %backgroundcolor=\color{0.5!gray}
}

\lstset{literate=
  {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
  {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
  {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
  {À}{{\`A}}1 {È}{{\`E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {ã}{{\~a}}1 {ẽ}{{\~e}}1 {ĩ}{{\~i}}1 {õ}{{\~o}}1 {ũ}{{\~u}}1
  {Ã}{{\~A}}1 {Ẽ}{{\~E}}1 {Ĩ}{{\~I}}1 {Õ}{{\~O}}1 {Ũ}{{\~U}}1
  {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
  {ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
  {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
  {€}{{\euro}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
  {»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1 {¡}{{!`}}1 
}

% ----------------------------------------------------- %

\let\origfigure\figure
\let\endorigfigure\endfigure
\renewenvironment{figure}[1][2] {
    \expandafter\origfigure\expandafter[H]
} {
    \endorigfigure
}




% Section styling
\titleformat{\section}{\Large\scshape}{\thesection}{1em}{} [{\titlerule[0.4pt]}]
\titleformat{\subsection}{\large\scshape}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\scshape}{\thesubsubsection}{1em}{}

% Bibliography - reduced spacing
\let\oldthebibliography\thebibliography
\let\endoldthebibliography\endthebibliography
\renewenvironment{thebibliography}[1]{
  \begin{oldthebibliography}{#1}
    \setlength{\itemsep}{0.4em}
    \setlength{\parskip}{0em}
}
{
  \end{oldthebibliography}
}

% Reduced itemize spacing
\setitemize{itemsep=0em}

% ----------------------------------------------------- %

% Derivative at point symbol
% \evalat[rozmiar]{f}{punkt}
\NewDocumentCommand{\evalat}{sO{\big}mm}{%
  \IfBooleanTF{#1}
   {\mleft. #3 \mright|_{#4}}
   {#3#2|_{#4}}%
}
